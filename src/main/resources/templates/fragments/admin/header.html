<header class="app-header sticky top-0" xmlns:th="http://www.thymeleaf.org" th:fragment="header">
    <nav class="navbar navbar-expand-lg navbar-light">
        <ul class="navbar-nav">
            <li class="nav-item d-block d-xl-none">
                <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
                    <i class="ti ti-menu-2"></i>
                </a>
            </li>
        </ul>
        <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
            <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
                <li class="nav-item dropdown">
                    <img th:src="'https://ui-avatars.com/api/?name=' + ${#authentication.name} + '&background=random'"
                         th:alt="${#authentication.name}"
                         th:classappend="${#authentication.name != null} ? 'rounded-circle' : ''"
                         id="drop2" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                         class="rounded-circle" width="40" height="40" alt="User Avatar">
                    <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up" aria-labelledby="drop2">
                        <div class="message-body">
                            <th:block th:if="${#authorization.expression('isAuthenticated()')}">
                                <ul class="list-unstyled mb-0">
                                    <li class="nav-small-cap d-flex align-items-center">
                                        <i class="ti ti-dots nav-small-cap-icon fs-4 me-2"></i>
                                        <span class="hide-menu ms-1" th:text="${#authentication.name}"></span>
                                    </li>
                                    <li class="sidebar-item">
                                        <a class="sidebar-link d-flex align-items-center" href="#" onclick="document.getElementById('logout-form').submit();">
                                            <span><i class="ti ti-power-off"></i></span>
                                            <span class="hide-menu ms-2">Đăng xuất</span>
                                        </a>
                                        <form th:action="@{/admin/logout}" method="post" id="logout-form" style="display: none;">
                                            <input type="submit" value="Đăng xuất">
                                        </form>
                                    </li>
                                </ul>
                            </th:block>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</header>